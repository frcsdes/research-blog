.include-font(@family, @style, @weight, @file)
{
	@path: "fonts/@{family}/@{file}";

	@font-face
	{
		font-family: @family;
		font-style: @style;
		font-weight: @weight;

		// From google-webfonts-helper
		src: url("@{path}.eot"); // IE9 Compat Modes
		src: local("@{path}"),
		     url("@{path}.eot?#iefix") format("embedded-opentype"), // IE6-IE8
		     url("@{path}.woff2") format("woff2"), // Super Modern Browsers
		     url("@{path}.woff") format("woff"), // Modern Browsers
		     url("@{path}.ttf") format("truetype"), // Safari, Android, iOS
		     url("@{path}.svg#{{family}}") format("svg"); // Legacy iOS
	}
}

.include-font("Rubik Light", normal, 400, "rubik-400");
.include-font("Rubik Light", normal, 500, "rubik-500");

.include-font("Open Sans", normal, 400, "opensans-400");
.include-font("Open Sans", normal, 600, "opensans-600");

.include-font("Roboto Mono", normal, 400, "roboto-mono-400");

html
{
	&:root
	{
		--gray-4: #FFFFFF;
		--gray-3: #CBCBCB;
		--gray-2: #393838;
		--gray-1: #161515;
		--gray-0: #050505;

		--link:   #104ABB;
		--blue:   #779EEA;
		--green:  #5DAA61;
		--orange: #DDAC51;
		--red:    #EC7575;

		--font-title: "Rubik Light", serif;
		--font-body:  "Open Sans", sans-serif;
		--font-mono:  "Roboto Mono", monospace;

		--border-radius: 3px;
		--space-s: 0.5rem;
		--space-m: 1.2rem;
		--space-l: 2.6rem;
		--max-width: 45rem;

		--duration-s: 0.06s;
		--duration-m: 0.27s;
		--duration-l: 0.5s;
	}
}

body
{
	background-color: var(--gray-4);
	color: var(--gray-0);
	display: flex;
	flex-flow: column nowrap;
	font-family: var(--font-body);
	font-weight: 400;
	line-height: 1.5em;
	touch-action: manipulation;
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	-webkit-tap-highlight-color: transparent;
	-webkit-text-size-adjust: 100%;

	:focus { outline: none; }
	::-moz-focus-inner { border: 0; }

	> {{{header.style}}}

	> main
	{
		align-items: center;
		flex: 20 1 0%;
		padding: 0 var(--space-m);
		position: relative;
	}
}

article
{
	dislay: flex;
	flex: none;
	flex-flow: column nowrap;
	margin: auto;
	max-width: var(--max-width);
	padding: var(--space-l) 0;
	width: 100%;
		
	p
	{
		width: 100%;
	}

	p, pre
	{
		margin-bottom: var(--space-s);
	}
	pre + p
	{
		margin-top: var(--space-s);
	}

	h1, h2, h3
	{
		font-family: var(--font-title);
		font-weight: 400;
		line-height: 1.3em;
	}

	h1
	{
		font-size: 1.9rem;
		font-weight: 500;
		margin-bottom: var(--space-l);
	}

	p + h1,
	ol + h1,
	ul + h1,
	pre + h1,
	figure + h1,
	table + h1
	{
		margin-top: calc(2 * var(--space-l));
	}

	h2
	{
		font-size: 1.5rem;
		margin-bottom: var(--space-s);
	}

	p + h2,
	ol + h2,
	ul + h2,
	pre + h2,
	figure + h2,
	table + h2
	{
		margin-top: calc(2 * var(--space-m));
	}

	h3
	{
		font-size: 1.3rem;
		margin-bottom: var(--space-s);
	}
	
	p + h3,
	ol + h3,
	ul + h3,
	pre + h3,
	figure + h3,
	table + h3
	{
		margin-top: var(--space-m);
	}

	h4
	{
		font-weight: bolder;
		margin-bottom: var(--space-s);
	}
	
	p + h4,
	ol + h4,
	ul + h4,
	pre + h4,
	figure + h4,
	table + h4
	{
		margin-top: var(--space-m);
	}

	code
	{
		font-family: var(--font-mono);
		line-height: normal;

		&.hljs
		{
			.hljs-comment { color: var(--green); }
			.hljs-keyword { color: var(--blue); }
			.hljs-meta    { color: var(--orange); }
			.hljs-literal { color: var(--red); }
			.hljs-number  { color: var(--red); }
			.hljs-string  { color: var(--green); }
			.hljs-type    { color: var(--blue); }
		}
	}

	pre
	{
		background: var(--gray-2);
		color: var(--gray-4);
		display: flex;
		flex: none;
		flex-flow: row nowrap;
		overflow-x: auto;
		overflow-y: visible;
		padding: var(--space-m);
		transform: translateX(calc(-1 * var(--space-m)));
		width: calc(100% + 2 * var(--space-m));

		p + &
		{
			margin-top: 0;
		}

		& > code
		{
			flex: none;
			font-size: 0.9em;
			line-height: 1.3em;
		}
	}

	ol, ul
	{
		list-style-position: outside;
		margin-bottom: var(--space-s);
		padding-left: 1.5em;
		width: 100%;
	}

	ol
	{
		list-style-type: decimal;
	}

	ul
	{
		list-style-type: disc;
	}

	table
	{
		align-self: center;
		border-collapse: collapse;

		thead
		{
			background-color: rgba(0, 0, 0, 0.1);
		}

		&, th, td
		{
			border: 1px solid var(--gray-2);
		}

		th, td
		{
			min-width: 4rem;
			padding: 0.1rem 0.4rem;
			text-align: center;
		}
	}

	.link
	{
		color: var(--link);
		overflow-wrap: break-word;

		&:focus,
		&:hover {
			text-decoration: underline;
		}
	}

	.tags-list
	{
		display: flex;
		flex-flow: row wrap;
		gap: var(--space-s);
	}

	.tag {
		border: 1px solid var(--gray-0);
		border-radius: var(--border-radius);
		display: inline-block;
		font-size: 0.8em;
		padding: 0 var(--space-s);
	}
}
