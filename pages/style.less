.include-font(@family, @style, @weight, @file)
{
	@path: "fonts/@{family}/@{file}";

	@font-face
	{
		font-display: fallback;
		font-family: @family;
		font-style: @style;
		font-weight: @weight;

		// From google-webfonts-helper
		src: url("@{path}.eot"); // IE9 Compat Modes
		src: local("@{path}"),
		     url("@{path}.eot?#iefix") format("embedded-opentype"), // IE6-IE8
		     url("@{path}.woff2") format("woff2"), // Super Modern Browsers
		     url("@{path}.woff") format("woff"), // Modern Browsers
		     url("@{path}.ttf") format("truetype"), // Safari, Android, iOS
		     url("@{path}.svg#{{family}}") format("svg"); // Legacy iOS
	}
}

.include-font("Rubik Light", normal, 400, "rubik-400");
.include-font("Rubik Light", normal, 500, "rubik-500");

.include-font("Open Sans", normal, 400, "opensans-400");
.include-font("Open Sans", normal, 600, "opensans-600");

.include-font("Roboto Mono", normal, 400, "roboto-mono-400");

html
{
	&:root
	{
		--gray-4: #FFFFFF;
		--gray-3: #CBCBCB;
		--gray-2: #393838;
		--gray-1: #161515;
		--gray-0: #050505;

		--link:   #104ABB;
		--blue:   #779EEA;
		--green:  #5DAA61;
		--orange: #DDAC51;
		--red:    #EC7575;

		--font-title: "Rubik Light", serif;
		--font-body:  "Open Sans", sans-serif;
		--font-mono:  "Roboto Mono", monospace;

		--border-radius: 3px;
		--space-xs: 0.1rem;
		--space-s: 0.5rem;
		--space-m: 1.2rem;
		--space-l: 2.6rem;
		--max-width: 45rem;

		--duration-s: 0.06s;
		--duration-m: 0.27s;
		--duration-l: 0.5s;
	}
}

body
{
	background-color: var(--gray-4);
	color: var(--gray-0);
	font-family: var(--font-body);
	font-weight: 400;
	line-height: 1.5em;
	touch-action: manipulation;
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	-webkit-tap-highlight-color: transparent;
	-webkit-text-size-adjust: 100%;

	:focus { outline: none; }
	::-moz-focus-inner { border: 0; }

	> {{{header.style}}}

	> main
	{
		padding: 0 var(--space-m);
	}
}

article
{
	margin: auto;
	max-width: var(--max-width);
	padding: var(--space-l) 0;
	width: 100%;
		
	p, pre
	{
		margin-bottom: var(--space-s);
	}
	pre + p
	{
		margin-top: var(--space-s);
	}

	h1, h2, h3
	{
		font-family: var(--font-title);
		font-weight: 400;
		line-height: 1.3em;
	}

	h1
	{
		font-size: 1.9rem;
		font-weight: 500;
		margin-bottom: var(--space-l);
	}

	p + h1,
	ol + h1,
	ul + h1,
	pre + h1,
	figure + h1,
	table + h1
	{
		margin-top: calc(2 * var(--space-l));
	}

	h2
	{
		font-size: 1.5rem;
		margin-bottom: var(--space-s);
	}

	p + h2,
	ol + h2,
	ul + h2,
	pre + h2,
	figure + h2,
	table + h2
	{
		margin-top: var(--space-l);
	}

	h3
	{
		font-size: 1.3rem;
		margin-bottom: var(--space-s);
	}
	
	p + h3,
	ol + h3,
	ul + h3,
	pre + h3,
	figure + h3,
	table + h3
	{
		margin-top: var(--space-m);
	}

	h4
	{
		font-weight: bolder;
		margin-bottom: var(--space-s);
	}
	
	p + h4,
	ol + h4,
	ul + h4,
	pre + h4,
	figure + h4,
	table + h4
	{
		margin-top: var(--space-m);
	}

	code
	{
		font-family: var(--font-mono);
		line-height: normal;

		&.hljs
		{
			.hljs-comment { color: var(--green); }
			.hljs-keyword { color: var(--blue); }
			.hljs-meta    { color: var(--orange); }
			.hljs-literal { color: var(--red); }
			.hljs-number  { color: var(--red); }
			.hljs-string  { color: var(--green); }
			.hljs-type    { color: var(--blue); }
		}
	}

	pre
	{
		background: var(--gray-2);
		border-color: var(--gray-2);
		border-style: solid;
		border-width: 0 var(--space-m);
		color: var(--gray-4);
		font-size: 0.9em;
		line-height: normal;
		margin: 0 calc(-1 * var(--space-m));
		padding: var(--space-m) 0;
		overflow: auto;
	}

	ol, ul
	{
		list-style-position: outside;
		margin-bottom: var(--space-s);
		padding-left: 1.6em;
	}

	ol
	{
		list-style-type: decimal;
	}

	ul
	{
		list-style-type: disc;
	}

	.link
	{
		color: var(--link);
		word-wrap: break-word;

		&:focus,
		&:hover
		{
			text-decoration: underline;
		}
	}

	.tag {
		border: 1px solid var(--gray-0);
		border-radius: var(--border-radius);
		font-size: 0.8em;
		padding: var(--space-xs) var(--space-s);
	}
}
